import{j as e,L as r,f as m,N as t,u as f,g as p,a as d,r as c,b as i,c as h,d as u,O as b}from"./index-CUtGss9Q.js";function g({profile:s,handleLogout:a}){const o=s.photo||"/user.png";return e.jsx("nav",{className:"navbar navbar-expand-md shadow-sm fixed-top py-2",style:{backgroundColor:"#e9f0ff",borderBottom:"1px solid #c5d3ff"},children:e.jsxs("div",{className:"container-fluid px-4",children:[e.jsxs(r,{className:"navbar-brand d-flex align-items-center gap-2 fw-semibold text-primary",to:"/",children:[e.jsx("img",{src:"/logo.png",alt:"Logo",style:{width:"38px",height:"38px",borderRadius:"8px",objectFit:"cover"}}),e.jsx("span",{children:"Lost & Founds"})]}),e.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse",children:e.jsx("span",{className:"navbar-toggler-icon"})}),e.jsx("div",{className:"collapse navbar-collapse",id:"navbarCollapse",children:e.jsx("ul",{className:"navbar-nav ms-auto align-items-center",children:e.jsxs("li",{className:"nav-item dropdown",children:[e.jsxs("a",{className:"nav-link dropdown-toggle d-flex align-items-center text-dark",href:"#",id:"profileDropdown",role:"button","data-bs-toggle":"dropdown",children:[e.jsx("img",{src:o,alt:"Profile",className:"rounded-circle me-2",style:{width:"34px",height:"34px",border:"2px solid #007bff",objectFit:"cover"}}),e.jsx("span",{className:"fw-medium",children:s.name})]}),e.jsxs("ul",{className:"dropdown-menu dropdown-menu-end shadow-sm",children:[e.jsxs("li",{className:"px-3 py-2 text-muted small",style:{borderBottom:"1px solid #eee"},children:[e.jsx("div",{className:"fw-semibold",children:s.name}),e.jsx("div",{style:{fontSize:"0.85em"},children:s.role||"User"})]}),e.jsx("li",{children:e.jsxs(r,{className:"dropdown-item",to:"/profile",children:[e.jsx("i",{className:"bi bi-person me-2"}),"Profile"]})}),e.jsx("li",{children:e.jsxs(r,{className:"dropdown-item",to:"/settings",children:[e.jsx("i",{className:"bi bi-gear me-2"}),"Settings"]})}),e.jsx("li",{children:e.jsx("hr",{className:"dropdown-divider"})}),e.jsx("li",{children:e.jsxs("button",{type:"button",className:"dropdown-item text-danger",onClick:a,children:[e.jsx("i",{className:"bi bi-box-arrow-right me-2"}),"Logout"]})})]})]})})})]})})}function j(){return m(),e.jsxs("div",{className:"d-flex flex-column flex-shrink-0 p-3",style:{width:"250px",backgroundColor:"#f0f4ff",borderRight:"1px solid #d0dbff",color:"#1a1e36"},children:[e.jsxs("ul",{className:"nav nav-pills flex-column mb-auto mt-3",children:[e.jsx("li",{className:"nav-item mb-2",children:e.jsxs(t,{to:"/",className:({isActive:s})=>`nav-link ${s?"active shadow-sm":""}`,style:({isActive:s})=>({color:s?"#fff":"#1a1e36",backgroundColor:s?"#4c6fff":"transparent",borderRadius:"10px",fontWeight:500}),children:[e.jsx("i",{className:"bi bi-speedometer2 me-2"}),"Dashboard"]})}),e.jsx("li",{className:"nav-item mb-2",children:e.jsxs(t,{to:"/profile",className:({isActive:s})=>`nav-link ${s?"active shadow-sm":""}`,style:({isActive:s})=>({color:s?"#fff":"#1a1e36",backgroundColor:s?"#4c6fff":"transparent",borderRadius:"10px",fontWeight:500}),children:[e.jsx("i",{className:"bi bi-person me-2"}),"Profil Saya"]})})]}),e.jsx("div",{className:"mt-auto pt-3 border-top",style:{borderTop:"1px solid #d0dbff"},children:e.jsx("p",{className:"text-muted small mb-0",children:"Version 1.0.0"})})]})}function N(){m();const s=f(),a=p(),o=d(l=>l.profile),n=d(l=>l.isProfile);c.useEffect(()=>{i.getAccessToken()?s(h()):a("/auth/login")},[s,a]),c.useEffect(()=>{n&&(s(u(!1)),o||(i.putAccessToken(""),a("/auth/login")))},[n,o,s,a]);function x(){i.putAccessToken(""),a("/auth/login")}return o?e.jsxs("div",{style:{backgroundColor:"#f7f8fc",minHeight:"100vh",color:"#333"},children:[e.jsx(g,{profile:o,handleLogout:x}),e.jsxs("div",{className:"d-flex",style:{marginTop:"60px",minHeight:"calc(100vh - 60px)"},children:[e.jsx(j,{}),e.jsx("div",{className:"flex-grow-1 p-4",style:{overflowY:"auto",backgroundColor:"#ffffff",borderLeft:"1px solid #e2e6f3"},children:e.jsx(b,{})})]})]}):null}export{N as default};
